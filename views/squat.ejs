<%- include('parts/html_head') %>
<%- include('parts/navbar') %>
<style>
    * {
        margin: 0px;
        padding: 0px;
    }

    .mainBox {
        display: flex;
        justify-content: center;
        height: 80vh;
    }

    .leftmenu {
        background-color: white;
        width: 20vw;
        height: 100%;
    }

    .videoOutput {
        background-color: blueviolet;
        width: 40vw;
        height: 100%;
    }

    .outputTable {
        background-color: burlywood;
        width: 40vw;
        height: 100%;
    }

    .actionBox {
        border-top: black solid 1px;
        border-bottom: black solid 1px;
        background-color: #17202A;
        width: 100%;
        height: 15%;
    }

    .actionBox:hover {
        opacity: 0.5;
    }

    .uploadBox {
        border-top: black solid 1px;
        border-bottom: black solid 1px;
        background-color: #17202A;
        width: 100%;
        height: 15%;
    }

    .poseText {
        text-align: right;
        font-size: 60px;
        color: white;
    }
</style>
<div style="height: 7vh;"></div>
<div class="mainBox">
    <!-- 左側目錄 -->
    <div class="leftmenu">
        <div class="uploadBox" style="color: white; font-size:20px; padding:16px; padding-left: 60px;">
            <form name="form1">
                <div class="form-group">
                    <label for="exampleFormControlFile1">Upload your exercise video!</label>
                    <input onchange="previewFile()" type="file" class="form-control-file" id="exampleFormControlFile1" accept=".mp4">
                </div>
            </form>
        </div>
        <div class="actionBox" style="background-image: url('/images/biceps.png');">
            <div class="poseText">BICEPS</div>
        </div>
        <div class="actionBox" style="background-image: url('/images/biceps.png');">
            <div class="poseText">BENCH DIP</div>
        </div>
        <div class="actionBox" style="background-image: url('/images/biceps.png');">
            <div class="poseText">PLANK</div>
        </div>
        <div class="actionBox" style="background-image: url('/images/biceps.png');">
            <div class="poseText">SQUAT</div>
        </div>
        <div class="actionBox" style="background-image: url('/images/biceps.png');">
            <div class="poseText">FRONT RAISE</div>
        </div>
        <div style="border-top: black solid 1px;
        border-bottom: black solid 1px;
        background-color: #17202A;
        width: 100%;
        height: 10%;"></div>
    </div>
    <!-- 展示區域 -->
    <div class="videoOutput">
        <video autoplay="autoplay" playinline muted style="width: 40vw;"></video>
    </div>
    <!-- 計算資料 -->
    <div class="outputTable">

    </div>
</div>
<div style="height: 100%;"></div>


<div class="safa">asdasdas</div>
<div id="www">5555555</div>


<%- include('parts/scripts') %>
<script>
    $('.poseText').on('click', (event) => {
        dest = event.target.innerHTML.toLowerCase().replace(/\s+/g, "")
        document.location.href=`http://192.168.36.30:3000/fitness/${dest}`;
    });
    $('#www').on('click', function() {
        console.log('sd')
        $.post('/456', "gg=ininder", function (data) {
        $('.safa').text(data.ininder)
    }, 'json');
    })

    // preview video
    function previewFile() {
            var preview = document.querySelector('video');
            var file = document.querySelector('input[type=file]').files[0];
            var reader = new FileReader();

            reader.addEventListener("load", function () {
                preview.src = reader.result;
            }, false);

            if (file) {
                reader.readAsDataURL(file);
            }
            $.post('/fitness/benchdip', $(document.form1).serialize(), function (data) {
            msg_bar_div.removeClass('alert-success');
            msg_bar_div.removeClass('alert-danger');
            // console.log(document.form1);
            if (data.success) {
                msg_bar_div.text('Welcome to the Ashdown Forest!');
                msg_bar_div.addClass('alert-success');
                setTimeout(function () {
                    location.href = '/login';
                }, 2000);
            } else {
                msg_bar_div.text(data.errorMsg);
                msg_bar_div.addClass('alert-danger');
                btn.show();
            }
            msg_bar.show();
        }, 'json');
        }
</script>
<%- include('parts/html_foot') %>